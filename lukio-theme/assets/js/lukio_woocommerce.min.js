(function(t){t(document).ready(function(){t("body").on("wc_fragments_loaded wc_fragments_refreshed updated_checkout updated_cart_totals",function(){t.ajax({method:"POST",url:lukio_localize.ajax_url,data:{action:"lukio_woocommerce_refresh_mini_cart"},success:function(a){a&&(a=JSON.parse(a),t(".lukio_mini_cart_wrapper").html(a.fragment),t("body").trigger("lukio_cart_num_refresh",[a.items_count]),t("body").trigger("lukio_refresh_mini_cart_extra",[a.extra]))}})}),t(document).on("click",".lukio_cart_product_quantity_btn",function(){let a=t(this),o=a.parent();if(o.hasClass("working")||a.hasClass("plus")&&o.hasClass("plus_disabled"))return;let e=parseInt(o.find(".lukio_cart_product_quantity_display").text());a.hasClass("minus")?e--:a.hasClass("plus")&&e++,o.addClass("working"),t.ajax({method:"POST",url:lukio_localize.ajax_url,data:{action:"lukio_update_cart_quantity",cart_item:o.data("key"),quantity:e},success:function(){t("body").trigger("lukio_update_wc_parts")}})}),t("body").on("lukio_update_wc_parts",function(){switch(window.location.origin+window.location.pathname){case lukio_woo.checkout_url:t("body").trigger("update_checkout");break;case lukio_woo.cart_url:t("body").trigger("wc_update_cart");break;default:t("body").trigger("wc_fragment_refresh")}});let a=window.location.origin+window.location.pathname;a!=lukio_woo.cart_url&&a!=lukio_woo.checkout_url||t(document).on("click",".lukio_mini_cart_wrapper .remove",function(){t("body").one("wc_fragments_loaded",function(){t("body").trigger("lukio_update_wc_parts")})}),t("body").on("should_send_ajax_request.adding_to_cart",function(t,a){if(a.hasClass("disabled"))return!1;let o=a.closest(".lukio_theme_add_to_cart_form_wrapper");if(1==o.length){let t=o.find('input[name="quantity"]');1==t.length&&a.attr("data-quantity",t.val());let e=o.find('input[name="variation_id"]');1==e.length&&a.attr("data-product_id",e.val())}})})})(jQuery);