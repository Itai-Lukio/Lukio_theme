jQuery(document).ready(function(o){function t(o,t,e){let i=new RegExp("([?;&])("+o+"[^&;]*[;&]?)"),n=e.replace(i,"$1").replace(/[?&]$/,"");return n+(t?(n.length>0?"&":"?")+o+"="+t:"")}function e(){o(".lukio_theme_option_color_picker:not(.wp-color-picker):not([disabled])").each(function(){let t=o(this);t.wpColorPicker()})}function i(){o("#lukio_theme_option_loop_count").val(o(".lukio_theme_option_color_pair:not(.template)").length)}e(),o("body").on("lukio_theme_option_activate_color_picker",e),o(document).on("click",".lukio_theme_option_remove_row",function(){o(this).closest(".lukio_theme_option_color_pair").remove(),i(),o(".lukio_theme_option_color_pair:not(.template)").each(function(t,e){o(e).find(".lukio_theme_option_css_name, .lukio_theme_option_color_picker").each(function(){let e=o(this);e.attr("name",e.data("name-format").replace("%d",t))})})}).on("click",".lukio_theme_option_add_row",function(){let t=o(".lukio_theme_option_color_pair.template").clone();t.removeClass("template").find("input").removeAttr("disabled").each(function(){let t=o(this);t.attr("name",t.attr("name").replace("%d",o("#lukio_theme_option_loop_count").val()))}),o(this).before(t),i(),e()}).on("click",".lukio_theme_option_tab",function(){let e=o(this);if(e.hasClass("active"))return;let i=e.data("tab");o(".lukio_theme_option_tab.active, .lukio_theme_option_tab_content.active").removeClass("active"),o(`.lukio_theme_option_tab[data-tab="${i}"], .lukio_theme_option_tab_content[data-tab="${i}"]`).addClass("active"),window.history.replaceState({},"",window.location.pathname+t("tab",i,window.location.search))}).on("click",".lukio_theme_option_submit",function(){o(".lukio_theme_option_form").addClass("loading")})});